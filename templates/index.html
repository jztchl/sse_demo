<!DOCTYPE html>
<html>
<head>
  <title>SSE Text Stream</title>
</head>
<body>
  <h1>ğŸ§  SSE Text Stream</h1>
  <div id="main" style="display: flex;">

    <div id="text-content"style="flex: 1 1 50%;">
      <h2>text streaming with redis pubsubâ¬‡ï¸</h2>
      </div>
  </div>




  <script>
    console.log("âœ… JS loaded");

    const text_source = new EventSource("/text-content");

    text_source.onopen = () => {
      console.log("ğŸ“¡ Connected to /events");
    };

    text_source.onmessage = (event) => {
      console.log("ğŸ“¨ Event received:", event.data);
      
      const logDiv = document.getElementById("text-content");
      const p = document.createElement("p");
      p.textContent = `ğŸ—£ï¸ ${event.data}`;
      logDiv.appendChild(p);
    };

    text_source.onerror = (err) => {
      console.error("ğŸ”¥ SSE error:", err);
    };

  </script>
</body>
</html>
